<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css?family=Luckiest+Guy" rel="stylesheet">

<div class="row">
    <div class="col-lg-3 viajes">
        <h3>Viajes</h3>
        <form #mapsForm="ngForm" (ngSubmit)="onSubmit(mapsForm)" class="col-lg-12">
            <p>
                <label>Nombre de tu viaje</label>
                <input type="text" name="nombre" #name="ngModel"  [(ngModel)]="travel.name" id="nameMap" value="{{travel.name}}"/>
            </p>
            <p>
                <!-- Sin terminar -->
                <label>Fecha</label>
                <input type="date" name="fecha" #fecha="ngModel" [(ngModel)]="travel.date"  id="dateMap" value="{{travel.date}}"/>
            </p>

            <p>
                <label>Descripcion</label>
                <textarea name="descripcion" #description="ngModel" [(ngModel)]="travel.description"  id="desMap" value="{{travel.description}}" required></textarea>
            </p>

            <p>
                <label>Estado</label>
                <input id="checkBox" type="checkbox" name="estado" #status="ngModel"  [(ngModel)]="travel.status" id="statusMap" />
            </p>

            <p ng-repeat="name in travel.name">
                    <label>{{travel.name}}</label>

            </p>



            <input type="submit" value="Confirmar" class="btn btn-success" />
            <input type="button" value="Borrar" class="btn btn-danger"  (click)="clearMap()"/>
            <input type="button" value="Actualizar" class="btn btn-danger"  (click)="updateTravels()"/>
        </form>
    </div>

    <!--
    //Conenido del api travels
    // name: String,
    // country: String,
    // organizer: {type: Schema.ObjectId, ref: 'User'},
    // date: String,
    // status: Boolean,
    // description: String,
    // galery: [String],
    // markers: [any] -->

    <div class="col-lg-9">
        <agm-map [zoom]="zoom"  [latitude]="lat" [longitude]="lng" (mapClick)="mapClicked($event)">
                    <agm-marker *ngFor="let m of markers; let i = index"
                    [label]="m.label"
                    [latitude]="m.lat"
                    [longitude]="m.lng"
                    [markerDraggable]="m.draggable" >
                    <!-- Texto de la chincheta -->
                    <agm-info-window *ngIf="m.texto">
                        <strong>{{m.texto}}</strong>
                        <input type="button" value="Borrar marcador" class="btn btn-danger"  (click)="deleteMarker(i)"/>
                    </agm-info-window>
                </agm-marker>
    </agm-map>

    <div class="marcas"  *ngIf="markers == null">
        <ul *ngFor="let m of markers; let i = index" >
            <li>{{m.label}} -- {{m.texto}}</li>
        </ul>
    </div>
    <div class="marcas"  *ngIf="markers != null">
        <ul *ngFor="let t of travel.markers; let i = index" >
            <li>{{t.label}} -- {{t.texto}}</li>
        </ul>
    </div>

    <div  class="allTravels" *ngIf="travels != null">
        <ul *ngFor="let t of travels.travels" >
            <li>{{t.name + ' ' + t.description}}  <input type="button" value="seleccionar viaje" (click)="ngOnInit()" [routerLink]="['/viajes', t._id]"/></li>
        </ul>


    </div>
</div>

</div>

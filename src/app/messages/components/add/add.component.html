<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css?family=Luckiest+Guy" rel="stylesheet">

<div class="col-lg-10">
    <h3>{{title}}</h3>

    <div class="alert alert-success"  *ngIf="status == 'success'">
        Mensaje enviado correctamente, <a [routerLink]="['/mensajes/enviados']"> revisalo aqui</a>
    </div>

    <div class="alert alert-danger"  *ngIf="status == 'error'">
        No se ha podido enviar el mensaje correctamente
    </div>



    <form #formAdd="ngForm" (ngSubmit)="onSubmit(formAdd)">
        <p>
            <label>Para: </label>
            <!--Listado de seguidore-->
            <select *ngIf="follows" name="receiver" #receiver="ngModel" [(ngModel)]="message.receiver" class="form-control" required>
                <option *ngFor="let user of users" value="{{user._id}}">
                    {{user.name+ '  ' +user.surname + ' ('+ user.nick + ')'}}

            </select>
        </p>

        <p>
            <label>Mensaje</label>
            <textarea name="text" #text="ngModel"  [(ngModel)]="message.text" class="form-control" required></textarea>
            <span *ngIf="!text.valid && text.touched"> el mensaje es obligatorio </span>

        </p>

        <input type="submit" value="{{title}}" class="btn btn-success" />

    </form>
</div>
